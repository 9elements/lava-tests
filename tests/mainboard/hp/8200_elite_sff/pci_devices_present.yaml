# Copyright 2021 Patrick Rudolph <patrick.rudolph@9elements.com>
# SPDX-License-Identifier: BSD-3-Clause

metadata:
    format: Lava-Test Test Definition 1.0
    name: mb-all-pci-devices-visible
    description: "Tests if all PCI devices are visible"
    maintainer:
        - patrick.rudolph@9elements.com
    os:
        - ubuntu
        - fedora
    scope:
        - functional
install:
    git-repos:
        - git://github.com/9elements/go-linux-lowlevel-hw.git

run:
    steps:
        - mkdir -p go/src/github.com/9elements/
        - ln -s ../../../../go-linux-lowlevel-hw go/src/github.com/9elements/go-linux-lowlevel-hw
        - GOPATH=$(pwd)/go lava-test-case mb-all-pci-devices-visible --shell go test -test.v ./tests/mainboard/hp/8200_elite_sff/pci_devices_present_test.go

